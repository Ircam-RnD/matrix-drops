'use strict';

var _get = require('babel-runtime/helpers/get')['default'];

var _inherits = require('babel-runtime/helpers/inherits')['default'];

var _classCallCheck = require('babel-runtime/helpers/class-call-check')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

require('source-map-support/register');

// add source map support to nodejs

var _soundworksServer = require('soundworks/server');

var _soundworksServer2 = _interopRequireDefault(_soundworksServer);

var _DropsExperience = require('./DropsExperience');

var _DropsExperience2 = _interopRequireDefault(_DropsExperience);

var ConductorExperience = (function (_soundworks$ServerExperience) {
  _inherits(ConductorExperience, _soundworks$ServerExperience);

  function ConductorExperience(clientType) {
    _classCallCheck(this, ConductorExperience);

    _get(Object.getPrototypeOf(ConductorExperience.prototype), 'constructor', this).call(this, clientType);

    this.sharedParams = this.require('shared-params');
    // configure sharedParams
    this.sharedParams.addItem('text', 'numPlayers', 'num players', 0, ['conductor']);
    this.sharedParams.addItem('enum', 'state', 'state', ['reset', 'running', 'end'], 'reset');
    this.sharedParams.addItem('number', 'maxDrops', 'max drops', 0, 100, 1, 1);
    this.sharedParams.addItem('number', 'loopDiv', 'loop div', 1, 100, 1, 3);
    this.sharedParams.addItem('number', 'loopPeriod', 'loop period', 1, 30, 0.1, 7.5);
    this.sharedParams.addItem('number', 'loopAttenuation', 'loop atten', 0, 1, 0.01, 0.70710678118655);
    this.sharedParams.addItem('number', 'minGain', 'min gain', 0, 1, 0.01, 0.1);

    this.sharedParams.addItem('number', 'pulseMinGain', 'pulse min gain', 0, 1, 0.001, 0.2);

    this.sharedParams.addItem('number', 'sineGain', 'sine gain', 0, 0.1, 0.001, 0.017);
    this.sharedParams.addItem('number', 'sineInterval', 'sine interval', -1200, 1200, 100, 0);
    this.sharedParams.addItem('number', 'sineIntervalProbability', 'sine interval probability', 0, 1, 0.1, 0.3);
    this.sharedParams.addItem('number', 'sineDuration', 'sine duration', 0, 10, 0.1, 10);

    this.sharedParams.addItem('number', 'quantize', 'quantize', 0, 0.1, 0.001, 0);
    this.sharedParams.addItem('enum', 'autoPlay', 'auto play', ['off', 'on'], 'off');
    this.sharedParams.addItem('trigger', 'clear', 'clear');
  }

  return ConductorExperience;
})(_soundworksServer2['default'].ServerExperience);

_soundworksServer2['default'].server.init({ appName: 'Drops' });

var experience = new _DropsExperience2['default']('player');
var conductor = new ConductorExperience('conductor');

_soundworksServer2['default'].server.start();
//# sourceMappingURL=data:application/json;base64,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LEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNqRixRQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0dBQ3hEOztTQXhCRyxtQkFBbUI7R0FBUyw4QkFBVyxnQkFBZ0I7O0FBMkI3RCw4QkFBVyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7O0FBRTdDLElBQU0sVUFBVSxHQUFHLGlDQUFvQixRQUFRLENBQUMsQ0FBQztBQUNqRCxJQUFNLFNBQVMsR0FBRyxJQUFJLG1CQUFtQixDQUFDLFdBQVcsQ0FBQyxDQUFDOztBQUV2RCw4QkFBVyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMiLCJmaWxlIjoic3JjL3NlcnZlci9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnc291cmNlLW1hcC1zdXBwb3J0L3JlZ2lzdGVyJzsgLy8gYWRkIHNvdXJjZSBtYXAgc3VwcG9ydCB0byBub2RlanNcbmltcG9ydCBzb3VuZHdvcmtzIGZyb20gJ3NvdW5kd29ya3Mvc2VydmVyJztcbmltcG9ydCBEcm9wc0V4cGVyaWVuY2UgZnJvbSAnLi9Ecm9wc0V4cGVyaWVuY2UnO1xuXG5jbGFzcyBDb25kdWN0b3JFeHBlcmllbmNlIGV4dGVuZHMgc291bmR3b3Jrcy5TZXJ2ZXJFeHBlcmllbmNlIHtcbiAgY29uc3RydWN0b3IoY2xpZW50VHlwZSkge1xuICAgIHN1cGVyKGNsaWVudFR5cGUpO1xuXG4gICAgdGhpcy5zaGFyZWRQYXJhbXMgPSB0aGlzLnJlcXVpcmUoJ3NoYXJlZC1wYXJhbXMnKVxuICAgIC8vIGNvbmZpZ3VyZSBzaGFyZWRQYXJhbXNcbiAgICB0aGlzLnNoYXJlZFBhcmFtcy5hZGRJdGVtKCd0ZXh0JywgJ251bVBsYXllcnMnLCAnbnVtIHBsYXllcnMnLCAwLCBbJ2NvbmR1Y3RvciddKTtcbiAgICB0aGlzLnNoYXJlZFBhcmFtcy5hZGRJdGVtKCdlbnVtJywgJ3N0YXRlJywgJ3N0YXRlJywgWydyZXNldCcsICdydW5uaW5nJywgJ2VuZCddLCAncmVzZXQnKTtcbiAgICB0aGlzLnNoYXJlZFBhcmFtcy5hZGRJdGVtKCdudW1iZXInLCAnbWF4RHJvcHMnLCAnbWF4IGRyb3BzJywgMCwgMTAwLCAxLCAxKTtcbiAgICB0aGlzLnNoYXJlZFBhcmFtcy5hZGRJdGVtKCdudW1iZXInLCAnbG9vcERpdicsICdsb29wIGRpdicsIDEsIDEwMCwgMSwgMyk7XG4gICAgdGhpcy5zaGFyZWRQYXJhbXMuYWRkSXRlbSgnbnVtYmVyJywgJ2xvb3BQZXJpb2QnLCAnbG9vcCBwZXJpb2QnLCAxLCAzMCwgMC4xLCA3LjUpO1xuICAgIHRoaXMuc2hhcmVkUGFyYW1zLmFkZEl0ZW0oJ251bWJlcicsICdsb29wQXR0ZW51YXRpb24nLCAnbG9vcCBhdHRlbicsIDAsIDEsIDAuMDEsIDAuNzA3MTA2NzgxMTg2NTUpO1xuICAgIHRoaXMuc2hhcmVkUGFyYW1zLmFkZEl0ZW0oJ251bWJlcicsICdtaW5HYWluJywgJ21pbiBnYWluJywgMCwgMSwgMC4wMSwgMC4xKTtcblxuICAgIHRoaXMuc2hhcmVkUGFyYW1zLmFkZEl0ZW0oJ251bWJlcicsICdwdWxzZU1pbkdhaW4nLCAncHVsc2UgbWluIGdhaW4nLCAwLCAxLCAwLjAwMSwgMC4yKTtcblxuICAgIHRoaXMuc2hhcmVkUGFyYW1zLmFkZEl0ZW0oJ251bWJlcicsICdzaW5lR2FpbicsICdzaW5lIGdhaW4nLCAwLCAwLjEsIDAuMDAxLCAwLjAxNyk7XG4gICAgdGhpcy5zaGFyZWRQYXJhbXMuYWRkSXRlbSgnbnVtYmVyJywgJ3NpbmVJbnRlcnZhbCcsICdzaW5lIGludGVydmFsJywgLTEyMDAsIDEyMDAsIDEwMCwgMCk7XG4gICAgdGhpcy5zaGFyZWRQYXJhbXMuYWRkSXRlbSgnbnVtYmVyJywgJ3NpbmVJbnRlcnZhbFByb2JhYmlsaXR5JywgJ3NpbmUgaW50ZXJ2YWwgcHJvYmFiaWxpdHknLCAwLCAxLCAwLjEsIDAuMyk7XG4gICAgdGhpcy5zaGFyZWRQYXJhbXMuYWRkSXRlbSgnbnVtYmVyJywgJ3NpbmVEdXJhdGlvbicsICdzaW5lIGR1cmF0aW9uJywgMCwgMTAsIDAuMSwgMTApO1xuXG4gICAgdGhpcy5zaGFyZWRQYXJhbXMuYWRkSXRlbSgnbnVtYmVyJywgJ3F1YW50aXplJywgJ3F1YW50aXplJywgMCwgMC4xLCAwLjAwMSwgMCk7XG4gICAgdGhpcy5zaGFyZWRQYXJhbXMuYWRkSXRlbSgnZW51bScsICdhdXRvUGxheScsICdhdXRvIHBsYXknLCBbJ29mZicsICdvbiddLCAnb2ZmJyk7XG4gICAgdGhpcy5zaGFyZWRQYXJhbXMuYWRkSXRlbSgndHJpZ2dlcicsICdjbGVhcicsICdjbGVhcicpO1xuICB9XG59XG5cbnNvdW5kd29ya3Muc2VydmVyLmluaXQoeyBhcHBOYW1lOiAnRHJvcHMnIH0pO1xuXG5jb25zdCBleHBlcmllbmNlID0gbmV3IERyb3BzRXhwZXJpZW5jZSgncGxheWVyJyk7XG5jb25zdCBjb25kdWN0b3IgPSBuZXcgQ29uZHVjdG9yRXhwZXJpZW5jZSgnY29uZHVjdG9yJyk7XG5cbnNvdW5kd29ya3Muc2VydmVyLnN0YXJ0KCk7XG4iXX0=