'use strict';

var _get = require('babel-runtime/helpers/get')['default'];

var _inherits = require('babel-runtime/helpers/inherits')['default'];

var _classCallCheck = require('babel-runtime/helpers/class-call-check')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

require('source-map-support/register');

// add source map support to nodejs

var _soundworksServer = require('soundworks/server');

var _soundworksServer2 = _interopRequireDefault(_soundworksServer);

var _PlayerExperience = require('./PlayerExperience');

var _PlayerExperience2 = _interopRequireDefault(_PlayerExperience);

var server = _soundworksServer2['default'].server;

var ConductorExperience = (function (_soundworks$ServerExperience) {
  _inherits(ConductorExperience, _soundworks$ServerExperience);

  function ConductorExperience() {
    _classCallCheck(this, ConductorExperience);

    _get(Object.getPrototypeOf(ConductorExperience.prototype), 'constructor', this).call(this, 'conductor');

    // configure sharedParams
    this.params = this.require('shared-params');
    this.params.addItem('text', 'numPlayers', 'num players', 0, ['conductor']);
    this.params.addItem('enum', 'state', 'state', ['reset', 'running', 'end'], 'reset');
    this.params.addItem('number', 'maxDrops', 'max drops', 0, 100, 1, 1);
    this.params.addItem('number', 'loopDiv', 'loop div', 1, 100, 1, 3);
    this.params.addItem('number', 'loopPeriod', 'loop period', 1, 30, 0.1, 7.5);
    this.params.addItem('number', 'loopAttenuation', 'loop atten', 0, 1, 0.01, 0.70710678118655);
    this.params.addItem('number', 'minGain', 'min gain', 0, 1, 0.01, 0.1);
    this.params.addItem('number', 'quantize', 'quantize', 0, 0.1, 0.001, 0);
    this.params.addItem('enum', 'autoPlay', 'auto play', ['off', 'on'], 'off');
    this.params.addItem('trigger', 'clear', 'clear');
  }

  return ConductorExperience;
})(_soundworksServer2['default'].ServerExperience);

server.init({ appName: 'Drops' });

// create server side player and conductor experience
var conductor = new ConductorExperience();
var experience = new _PlayerExperience2['default']();

server.start();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zY2huZWxsL0RldmVsb3BtZW50L3dlYi9jb2xsZWN0aXZlLXNvdW5kd29ya3MvZHJvcHMvc3JjL3NlcnZlci9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O1FBQU8sNkJBQTZCOzs7O2dDQUNiLG1CQUFtQjs7OztnQ0FDYixvQkFBb0I7Ozs7QUFDakQsSUFBTSxNQUFNLEdBQUcsOEJBQVcsTUFBTSxDQUFDOztJQUUzQixtQkFBbUI7WUFBbkIsbUJBQW1COztBQUNaLFdBRFAsbUJBQW1CLEdBQ1Q7MEJBRFYsbUJBQW1COztBQUVyQiwrQkFGRSxtQkFBbUIsNkNBRWYsV0FBVyxFQUFFOzs7QUFHbkIsUUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQzVDLFFBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxZQUFZLEVBQUUsYUFBYSxFQUFFLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7QUFDM0UsUUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3BGLFFBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3JFLFFBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ25FLFFBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxZQUFZLEVBQUUsYUFBYSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQzVFLFFBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxpQkFBaUIsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztBQUM3RixRQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN0RSxRQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztBQUN4RSxRQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUMzRSxRQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0dBQ2xEOztTQWhCRyxtQkFBbUI7R0FBUyw4QkFBVyxnQkFBZ0I7O0FBbUI3RCxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7OztBQUdsQyxJQUFNLFNBQVMsR0FBRyxJQUFJLG1CQUFtQixFQUFFLENBQUM7QUFDNUMsSUFBTSxVQUFVLEdBQUcsbUNBQXNCLENBQUM7O0FBRTFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyIsImZpbGUiOiIvVXNlcnMvc2NobmVsbC9EZXZlbG9wbWVudC93ZWIvY29sbGVjdGl2ZS1zb3VuZHdvcmtzL2Ryb3BzL3NyYy9zZXJ2ZXIvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ3NvdXJjZS1tYXAtc3VwcG9ydC9yZWdpc3Rlcic7IC8vIGFkZCBzb3VyY2UgbWFwIHN1cHBvcnQgdG8gbm9kZWpzXG5pbXBvcnQgc291bmR3b3JrcyBmcm9tICdzb3VuZHdvcmtzL3NlcnZlcic7XG5pbXBvcnQgUGxheWVyRXhwZXJpZW5jZSBmcm9tICcuL1BsYXllckV4cGVyaWVuY2UnO1xuY29uc3Qgc2VydmVyID0gc291bmR3b3Jrcy5zZXJ2ZXI7XG5cbmNsYXNzIENvbmR1Y3RvckV4cGVyaWVuY2UgZXh0ZW5kcyBzb3VuZHdvcmtzLlNlcnZlckV4cGVyaWVuY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignY29uZHVjdG9yJyk7XG5cbiAgICAvLyBjb25maWd1cmUgc2hhcmVkUGFyYW1zXG4gICAgdGhpcy5wYXJhbXMgPSB0aGlzLnJlcXVpcmUoJ3NoYXJlZC1wYXJhbXMnKTtcbiAgICB0aGlzLnBhcmFtcy5hZGRJdGVtKCd0ZXh0JywgJ251bVBsYXllcnMnLCAnbnVtIHBsYXllcnMnLCAwLCBbJ2NvbmR1Y3RvciddKTtcbiAgICB0aGlzLnBhcmFtcy5hZGRJdGVtKCdlbnVtJywgJ3N0YXRlJywgJ3N0YXRlJywgWydyZXNldCcsICdydW5uaW5nJywgJ2VuZCddLCAncmVzZXQnKTtcbiAgICB0aGlzLnBhcmFtcy5hZGRJdGVtKCdudW1iZXInLCAnbWF4RHJvcHMnLCAnbWF4IGRyb3BzJywgMCwgMTAwLCAxLCAxKTtcbiAgICB0aGlzLnBhcmFtcy5hZGRJdGVtKCdudW1iZXInLCAnbG9vcERpdicsICdsb29wIGRpdicsIDEsIDEwMCwgMSwgMyk7XG4gICAgdGhpcy5wYXJhbXMuYWRkSXRlbSgnbnVtYmVyJywgJ2xvb3BQZXJpb2QnLCAnbG9vcCBwZXJpb2QnLCAxLCAzMCwgMC4xLCA3LjUpO1xuICAgIHRoaXMucGFyYW1zLmFkZEl0ZW0oJ251bWJlcicsICdsb29wQXR0ZW51YXRpb24nLCAnbG9vcCBhdHRlbicsIDAsIDEsIDAuMDEsIDAuNzA3MTA2NzgxMTg2NTUpO1xuICAgIHRoaXMucGFyYW1zLmFkZEl0ZW0oJ251bWJlcicsICdtaW5HYWluJywgJ21pbiBnYWluJywgMCwgMSwgMC4wMSwgMC4xKTtcbiAgICB0aGlzLnBhcmFtcy5hZGRJdGVtKCdudW1iZXInLCAncXVhbnRpemUnLCAncXVhbnRpemUnLCAwLCAwLjEsIDAuMDAxLCAwKTtcbiAgICB0aGlzLnBhcmFtcy5hZGRJdGVtKCdlbnVtJywgJ2F1dG9QbGF5JywgJ2F1dG8gcGxheScsIFsnb2ZmJywgJ29uJ10sICdvZmYnKTtcbiAgICB0aGlzLnBhcmFtcy5hZGRJdGVtKCd0cmlnZ2VyJywgJ2NsZWFyJywgJ2NsZWFyJyk7XG4gIH1cbn1cblxuc2VydmVyLmluaXQoeyBhcHBOYW1lOiAnRHJvcHMnIH0pO1xuXG4vLyBjcmVhdGUgc2VydmVyIHNpZGUgcGxheWVyIGFuZCBjb25kdWN0b3IgZXhwZXJpZW5jZVxuY29uc3QgY29uZHVjdG9yID0gbmV3IENvbmR1Y3RvckV4cGVyaWVuY2UoKTtcbmNvbnN0IGV4cGVyaWVuY2UgPSBuZXcgUGxheWVyRXhwZXJpZW5jZSgpO1xuXG5zZXJ2ZXIuc3RhcnQoKTtcbiJdfQ==